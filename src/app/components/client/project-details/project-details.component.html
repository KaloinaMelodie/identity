<div id="content" class="content">
    <div class="homepage-personal a-pagepiling">
        <div class="section pp-scrollable slide-dark-footer slide-personal-clients">
            <div class="slide-container">
                <div class="slide-bg"></div>

                <div class="container">

                    <div *ngIf="loading" class="row">
                        <div class="col-12">
                            <p class="text-white">Chargement...</p>
                        </div>
                    </div>

                    <div *ngIf="!loading && errorMessage" class="row">
                        <div class="col-12">
                            <p class="text-white">{{ errorMessage }}</p>
                        </div>
                    </div>

                    <ng-container *ngIf="!loading && project as p">
                        <div class="row align-items-center animate-element delay5 fadeInDown">
                            <div class="col-md-7">
                                <h1 class="slide-title-info mr-lg-5 pr-lg-3 animate-element delay5 fadeInDown">
                                    {{ p.titre }}
                                    <span *ngIf="p.soustitre" class="text-primary"> — {{ p.soustitre }}</span>
                                </h1>

                                <p *ngIf="p.chapo" class="text-white mt-3">
                                    {{ p.chapo }}
                                </p>
                            </div>

                            <div class="col-md-5">
                                <ul class="info-list grid grid-cols-2 sm:grid-cols-3 gap-x-10 gap-y-8">
                                    <li class="info-item">
                                        <span class="info-label">Category</span>
                                        <h4 class="info-value">{{ categoriesToString(p.categories) }}</h4>
                                    </li>

                                    <li class="info-item">
                                        <span class="info-label">Tools</span>
                                        <h4 class="info-value">{{ technosToString(p.technos) }}</h4>
                                    </li>

                                    <li class="info-item">
                                        <span class="info-label">Date</span>
                                        <h4 class="info-value">{{ dateRange(p) }}</h4>
                                    </li>
                                </ul>


                            </div>

                            <div class="col-12 photos animate-element delay5 fadeZooming">
                                <!-- Image principale -->
                                <div *ngIf="p.image?.image" class="photo-card">
                                    <div class="inside">
                                        <img [src]="imageSrc(p.image.image)" [alt]="p.image.alt || p.titre" />
                                    </div>
                                </div>

                                <!-- Galerie -->
                                <div *ngFor="let img of p.images" class="photo-card">
                                    <div class="inside">
                                        <img [src]="imageSrc(img.image)" [alt]="img.alt || p.titre" />
                                    </div>
                                </div>
                            </div>
                        </div>

                        <br /><br />

                        <div class="row">
                            <!-- contenu html venant de ckeditor -->
                            <div class="project-article" [innerHTML]="p.contenu | safeHtml"></div>

                        </div>
                        <div class="row" class="project-article">
                            <div *ngIf="p.liens?.length" class="mt-3">
                                <p>
                                    Lien
                                </p>
                                <div *ngFor="let l of p.liens">
                                    <ul>
                                        <li><a [href]="l.lien" target="_blank" rel="noopener" class="text-success">
                                                {{ l.titre }}
                                            </a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <hr />

                        <!-- Voir aussi -->
                        <section class="related-projects-section" *ngIf="relatedProjects.length">
                            <div class="related-projects-header">
                                <h2 class="slide-title-sub">Voir aussi d'autres projets</h2>
                            </div>

                            <div class="row award-list animate-element delay5 fadeInUp related-projects-grid">
                                <div class="col-lg-4 col-md-6" *ngFor="let r of relatedProjects">
                                    <article class="award-item related-card">
                                        <div class="related-card-thumb">
                                            <img *ngIf="r.image?.image" [src]="imageSrc(r.image.image)"
                                                [alt]="r.image.alt || r.titre" />
                                        </div>

                                        <div class="related-card-meta">
                                            <span class="related-card-date">{{ dateRange(r) }}</span>
                                            <span class="related-card-divider">•</span>
                                            <span class="related-card-category">{{ categoriesToString(r.categories)
                                                }}</span>
                                        </div>

                                        <h3 class="award-item-title slide-title-sub related-card-title">
                                            {{ r.titre }}
                                        </h3>

                                        <p class="award-item-descr slide-descr related-card-descr">
                                            {{ r.chapo }}
                                        </p>

                                        <div class="award-item-more">
                                            <a class="text-success" [routerLink]="['/project', projectSlugId(r)]">
                                                Voir le projet
                                            </a>

                                        </div>
                                    </article>
                                </div>
                            </div>
                        </section>

                    </ng-container>

                </div>
            </div>
        </div>
    </div>
</div>